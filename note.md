EnhancedAtrousBlock

## 伪标签语义分割论文

### U2PL方法

U2PL中有两个网络，学生和教师，有标记的数据会直接送到学生网络进行监督训练。未标记的图像先用教师网络进行预测，然后根据预测结果的熵进行划分，低熵像素可靠，高熵像素不可靠。可靠的像素直接用来作为伪标签训练学生网络，不可靠的像素预测放入一个按类别的记忆库中，每个记忆库中的像素视作对应类的负样本。

## 水下图像恢复论文

### Semi-UIR方法

UIR基于平均教师方案，也有一个学生模型和一个教师模型。有标记的图像经过正常的增强输入到学生网络，未标记的图像经过强烈的增强输入到学生网络，未标记的图像还经过弱增强输入到教师网络，然后用NR-IQA对教师网络的输出进行评估，再把有史以来最好的教师的输出更新到可靠库中，

### AIM-Net网络

利用图像的先验信息（光照先验（Underwater Light Field Retention : Neural Rendering for Underwater Imaging）、梯度先验）。网络由两个分支组成：照明感知恢复分支和梯度分支。恢复分支首先引入了光照，以增强色彩和光源感知能力。引入梯度分支是用来增强边缘结构的。

### 数据集结构

data_dir/(phase)/(input/LA/GT)

## 评估指标

PSNR（峰值信噪比）

PSNR最小值为0，PSNR 越大，两张图像差异越小

SSIM（结构相似性）

SSIM最大值1，SSIM越大，两张图像越相似

## 实验记录

### 第一次复现2025.3.14 23：46-0：15

使用LOLv1的our485作为配对数据集，LOL的eval15作为无标签数据集（下次实验可以调整配对数据集占比）

训练size为6，验证size为3，显存占用22G左右

[200] main_loss: 0.009338, train psnr: 22.841568, val psnr: 20.241378, lr: 0.00000200

SSIM在.82不到一点

### 第二次复现2025.4.15 16:50-17:17

数据集同第一次复现

训练size4，验证size2，显存占用15G左右

[200] main_loss: 0.006298, train psnr: 23.395293, val psnr: 20.215992, lr: 0.00000200

ssim为.8207

### 第一次实验2025.4.15

使用LOLv2的Real_captured的train作为数据集，labeled_scale=0.1

训练size6，验证size3，显存占用22G左右，20epoch

[20] main_loss: 0.003794, train psnr: 22.707421, val psnr: 20.660139, lr: 0.00020000

ssim0.8202

### ~~第二次实验2025.4.17~~

~~使用LOLv1的our485作为数据集，labeled_scale=0.2~~

~~训练size6，验证size3，显存占用22G左右，20epoch~~

~~[20] main_loss: 0.004851, train psnr: 23.844311, val psnr: 20.360550, lr: 0.00020000~~

~~ssim0.8524~~

### ~~第三次实验2025.4.17~~

~~实验条件同上，labeled_scale=0.1~~

~~[20] main_loss: 0.004213, train psnr: 23.752427, val psnr: 21.082509, lr: 0.00020000~~

~~ssim0.8605~~

### ~~第四次实验2025.4.17~~

~~实验条件同上，labeled_scale=0.3~~

~~[20] main_loss: 0.004342, train psnr: 24.041468, val psnr: 21.150372, lr: 0.00020000~~

~~ssim0.8578~~

### ~~第五次实验2025.4.17~~

~~实验条件同上，labeled_scale=0.5~~

~~[20] main_loss: 0.005135, train psnr: 24.198444, val psnr: 20.010158, lr: 0.00020000~~

~~ssim0.8505~~

### ~~第六次实验2025.4.17~~

~~实验条件同上，labeled_scale=0.7~~

~~[20] main_loss: 0.004390, train psnr: 23.769025, val psnr: 20.641029, lr: 0.00020000~~

~~ssim0.8577~~

### ~~第七次实验2025.4.17~~

~~实验条件同上，labeled_scale=1~~

~~[20] main_loss: 0.004448, train psnr: 24.067831, val psnr: 20.882954, lr: 0.00020000~~

~~ssim0.8610~~

### 第八次实验2025.4.18

**以下实验中模型使用EnhancedAtrousBlock，在AtrousBlock中加入了噪声抑制**

第二次到第七次实验中标签比例全错了

其他实验条件同上，labeled_scale=0.2

[20] main_loss: 0.003146, train psnr: 23.148392, val psnr: 20.420226, lr: 0.00020000

ssim0.8570

### 第九次实验2025.4.18

其他实验条件同上，labeled_scale=0.1

[20] main_loss: 0.004400, train psnr: 24.923491, val psnr: 21.105048, lr: 0.00020000

ssim0.8587

### 第十次实验2025.4.18

其他实验条件同上，labeled_scale=0.3

[20] main_loss: 0.003406, train psnr: 21.855997, val psnr: 20.327142, lr: 0.00020000

ssim0.8529

### 第十一次实验2025.4.18

**试用了修改后的RCB，分离低频光照信息和高频噪声，使用双路卷积处理后再融合，改进模块可以更好地保留光照结构的同时抑制噪声**

其他实验条件同上，30%标签

[20] main_loss: 0.003611, train psnr: 21.500702, val psnr: 20.608945, lr: 0.00020000

ssim0.8577

### 第十二次实验2025.4.18

**修改三处LeakyReLU的参数（原0.1改为0.2）**

其他实验条件同上，30%标签

[20] main_loss: 0.003586, train psnr: 21.314636, val psnr: 19.735515, lr: 0.00020000

ssim0.8510

### 第十三次实验2025.4.18

其他实验条件同上，90%标签

[20] main_loss: 0.005863, train psnr: 20.549351, val psnr: 19.103489, lr: 0.00020000

ssim0.8070

### 第十四次实验2025.4.18

其他实验条件同上，70%标签

[20] main_loss: 0.006024, train psnr: 19.616456, val psnr: 18.685900, lr: 0.00020000

ssim0.8185

### 第十五次实验2025.4.18

**加入了早停策略，10个epoch内验证psnr没有提升就停止训练**

其他实验条件同上，70%标签

[20] main_loss: 0.005955, train psnr: 19.785006, val psnr: 19.548763, lr: 0.00020000

早停触发! 最佳验证PSNR: 19.8486

ssim0.8237

### 第十六次实验2025.4.18

其他实验条件同上，10%标签

[18] main_loss: 0.005432, train psnr: 23.187081, val psnr: 18.328029, lr: 0.00020000

早停触发! 最佳验证PSNR: 20.5910

ssim0.8486

### 第十七次实验2025.4.18

其他实验条件同上，20%标签

[30] main_loss: 0.003143, train psnr: 24.308487, val psnr: 20.014286, lr: 0.00020000

早停触发! 最佳验证PSNR: 20.8149

ssim0.8624

### 第十八次实验2025.4.18

其他实验条件同上，30%标签

[69] main_loss: 0.005182, train psnr: 25.269442, val psnr: 20.448469, lr: 0.00020000

早停触发! 最佳验证PSNR: 21.7261

ssim0.8805

### 第十九次实验2025.4.18

其他实验条件同上，50%标签

[85] main_loss: 0.008002, train psnr: 23.085354, val psnr: 	, lr: 0.00020000

早停触发! 最佳验证PSNR: 20.8200

ssim0.8735

### 第二十次实验2025.4.18

其他实验条件同上，90%标签

[22] main_loss: 0.003782, train psnr: 19.465632, val psnr: 19.141039, lr: 0.00020000

早停触发! 最佳验证PSNR: 20.0213

ssim0.8381
